

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Netris Controller Initial Configuration" name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Controller initial configuration &mdash; Netris Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/styles.css?v=c10d0aec" />

  
    <link rel="shortcut icon" href="_static/netris_favicon.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=016f71bc"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Netris switch agent installation" href="switch-agent-installation.html" />
    <link rel="prev" title="Netris Controller Helm Chart" href="controller-k8s-installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #ffffff" >


  <a href="https://www.netris.ai">



  
  <img src="_static/logo-600.png" class="logo" alt="Logo"/>

</a>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#introduction-to-netris">Introduction to Netris</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#what-is-netris-controller">What is Netris Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#netris-switch-agent">Netris Switch Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#netris-softgate">Netris SoftGate</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="controller-installation.html">On-prem Netris Controller installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="controller-installation.html#kvm-virtual-machine">KVM virtual machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-installation.html#installation-steps-for-kvm-hypervisor">Installation steps for KVM hypervisor</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-installation.html#netris-controller-installation-steps">Netris Controller Installation steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-installation.html#accessing-the-netris-controller">Accessing the Netris Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-installation.html#security-hardening">Security hardening</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-installation.html#changing-the-default-grpc-authentication-key">Changing the default GRPC authentication key.</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-installation.html#replacing-the-ssl-certificate">Replacing the SSL certificate</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="controller-k8s-installation.html">Netris Controller Helm Chart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="controller-k8s-installation.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-k8s-installation.html#get-repo-info">Get Repo Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-k8s-installation.html#installing-the-chart">Installing the Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-k8s-installation.html#uninstalling-the-chart">Uninstalling the Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller-k8s-installation.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#common-parameters">Common parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#netris-controller-common-parameters">Netris-Controller common parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#netris-controller-app-parameters">Netris-Controller app parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#netris-controller-grpc-parameters">Netris-Controller grpc parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#netris-controller-telescope-parameters">Netris-Controller telescope parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#netris-controller-k8s-watcher-parameters">Netris-Controller k8s-watcher parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#netris-controller-telescope-notifier-parameters">Netris-Controller telescope-notifier parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#mariadb-parameters">Mariadb parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#mongodb-parameters">Mongodb parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#redis-parameters">Redis parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#smtp-parameters">Smtp parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#haproxy-parameters">HAproxy parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#graphite-parameters">Graphite parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controller-k8s-installation.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Controller initial configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#definitions">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subnets">Subnets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-ip-addresses-used-are-just-examples-please-replace-them-following-your-ip-planning">Example:  (IP addresses used are just examples, please replace them following your IP planning.)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#inventory-profiles">Inventory Profiles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fields-descriptions">Fields descriptions:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-switches-to-topology">Adding Switches to Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#topology-manager">Topology Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hairpin-cumulus-only">Hairpin (Cumulus only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-softgate-nodes-to-topology">Adding SoftGate nodes to Topology</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="switch-agent-installation.html">Netris switch agent installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="switch-agent-installation.html#for-cumulus-linux">For Cumulus Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="switch-agent-installation.html#configure-the-oob-management-ip-address">Configure the OOB Management IP address</a></li>
<li class="toctree-l3"><a class="reference internal" href="switch-agent-installation.html#configure-cumulus-linux-license">Configure Cumulus Linux license</a></li>
<li class="toctree-l3"><a class="reference internal" href="switch-agent-installation.html#install-the-netris-agent">Install the Netris Agent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="switch-agent-installation.html#for-ubuntu-switchdev">For Ubuntu SwitchDev</a><ul>
<li class="toctree-l3"><a class="reference internal" href="switch-agent-installation.html#id1">Configure the OOB Management IP address</a></li>
<li class="toctree-l3"><a class="reference internal" href="switch-agent-installation.html#id2">Install the Netris Agent</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SoftGate-agent-installation.html">Netris SoftGate agent installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-agent-installation.html#minimal-hardware-requirements">Minimal hardware requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-agent-installation.html#bios-configuration">BIOS configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-agent-installation.html#software-installation">Software installation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Policies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html">Basic BGP</a></li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#advanced-bgp">Advanced BGP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#bgp-objects">BGP objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="network-policies.html#ipv4-prefix">IPv4 Prefix.</a></li>
<li class="toctree-l3"><a class="reference internal" href="network-policies.html#ipv6-prefix">IPv6 Prefix.</a></li>
<li class="toctree-l3"><a class="reference internal" href="network-policies.html#community">Community.</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#bgp-route-maps">BGP route-maps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#routes-static-routing">Routes (static routing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#nat">NAT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#enabling-nat">Enabling NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#defining-nat-rules">Defining NAT rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#looking-glass">Looking Glass</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="services.html">V-NET</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html#kubenet">Kubenet</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html#roh-routing-on-the-host">ROH (Routing on the Host)</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html#l3-load-balancer-anycast-lb">L3 Load Balancer (Anycast LB)</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html#l4-load-balancer-l4lb">L4 Load Balancer (L4LB)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="services.html#enabling-l4lb-service">Enabling L4LB service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html#consuming-l4lb-service">Consuming L4LB service</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="services.html#access-control-lists-acl">Access Control Lists (ACL)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="services.html#acl-default-policy">ACL Default Policy.</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html#acl-rules">ACL rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html#acl-approval-workflow">ACL approval workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html#the-sequence-order-of-acl-rules">The sequence order of ACL rules</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Operations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="visibility.html">Visibility (Telescope)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="visibility.html#graph-boards">Graph Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="visibility.html#api-logs">API Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="visibility.html#dashboard">Dashboard</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="accounts.html">Accounts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#users">Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#tenants">Tenants</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#permission-groups">Permission Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#user-roles">User Roles</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Updates</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #ffffff" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Netris docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!--
<div class="header-wrapper">
    <div>
        <a class="underscore-transition" href="https://www.netris.ai/overview/">
            Product Overview
        </a>
        <a class="underscore-transition" href="https://www.netris.ai/start/">
            Get started
        </a>
        <a class="underscore-transition" href="https://www.netris.ai/category/blog/">
            Blog
        </a>
    </div>
    <a class="button" href="https://netris.ai/demo">
        Schedule a demo
    </a>
</div>
--><div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Controller initial configuration</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/netrisai/docs/blob/master/controller-initial-configuration.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="controller-k8s-installation.html" class="btn btn-neutral float-left" title="Netris Controller Helm Chart" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="switch-agent-installation.html" class="btn btn-neutral float-right" title="Netris switch agent installation" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="controller-initial-configuration">
<h1>Controller initial configuration<a class="headerlink" href="#controller-initial-configuration" title="Link to this heading"></a></h1>
<section id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>User</strong> - A user account for accessing Netris Controller through GUI, RestAPI, and Kubernetes. The default username is <code class="docutils literal notranslate"><span class="pre">netris</span></code>, with password <code class="docutils literal notranslate"><span class="pre">newNet0ps</span></code>.</p></li>
<li><p><strong>Tenant</strong> - IP addresses and Switch Ports are network resources assigned to different Tenants to have under their management. Admin is the default tenant, and by default, it owns all the resources. You can use different Tenants for sharing and delegation of control over the network resources. Network teams typically use Tenants to grant access to other groups to request &amp; manage network services using the Netris Controller as a self-service portal or programmatically (with Kubernetes CRDs) DevOps/NetOps pipeline.</p></li>
<li><p><strong>Permission Group</strong> - List of permissions on a per section basis can be attached individually to a User or a User Role.</p></li>
<li><p><strong>User Role</strong> - Group of user permissions and tenants for role-based access control.</p></li>
<li><p><strong>Site</strong> - Each separate deployment (each data center) should be defined as a Site. All network units and resources are attached to a site. Netris Controller comes with a “default” site preconfigured. Site entry defines global attributes such as; AS numbers, default ACL policy, Site Mesh (site to site VPN) type.</p></li>
<li><p><strong>Subnet</strong> - IPv4/IPv6 address resources linked to Sites and Tenants.</p></li>
<li><p><strong>Switch Port</strong> - Physical ports of all switches attached to the system. Switch port objects represent statuses, take basic parameters, and are assigned to Tenants.</p></li>
<li><p><strong>Inventory</strong> - This is an inventory of all network units that are operated using Netris Agent.</p></li>
<li><p><strong>E-BGP</strong> - Is for defining all External BGP peers (iBGP and eBGP).</p></li>
</ul>
</section>
<section id="subnets">
<h2>Subnets<a class="headerlink" href="#subnets" title="Link to this heading"></a></h2>
<p>It is required to define at least two subnets to get started. One subnet is for the management interfaces, another for the loopback addresses. Every network unit managed with Netris should have at least one management IP and at least one loopback IP. Loopback IP addresses are used for network unit identification by network protocols and by Netris Agent/Controller. There’s no need for defining any IP addresses for the switch-to-switch links. Netris is using IPv6 link-local addresses for all switch-to-switch communication.</p>
<section id="example-ip-addresses-used-are-just-examples-please-replace-them-following-your-ip-planning">
<h3>Example:  (IP addresses used are just examples, please replace them following your IP planning.)<a class="headerlink" href="#example-ip-addresses-used-are-just-examples-please-replace-them-following-your-ip-planning" title="Link to this heading"></a></h3>
<p>In NET-&gt;Subnets section of the Netris Controller GUI, you can add new subnet entries. Subnets are of 2 types of allocation and assignment. Allocations are the large blocks of IP resources assigned to the organization. Assignments are IP blocks that are smaller blocks inside the allocation and can be used by services or policies that yet to be defined.</p>
<ol class="arabic simple">
<li><p>Adding a new allocation. In this example, 10.0.0.0/8 is used as a large block of allocation. You can add as many allocations as required.</p></li>
</ol>
<img alt="_images/allocation.png" class="align-center" src="_images/allocation.png" />
<ol class="arabic simple" start="2">
<li><p>Adding two new assignments.</p></li>
</ol>
<ul class="simple">
<li><p>10.254.96.0/24 (netManagement) assigned to the tenant “Admin” and available for the site “Default”.</p></li>
<li><p>10.254.97.0/24 (netLoopbacks) assigned to the tenant “Admin” and available for the site “Default”.</p></li>
</ul>
<img alt="_images/assignment.png" class="align-center" src="_images/assignment.png" />
<img alt="_images/assignment2.png" class="align-center" src="_images/assignment2.png" />
<p>Screenshot: Listing of the Subnets section after adding the new objects.</p>
<img alt="_images/subnet_listing.png" class="align-center" src="_images/subnet_listing.png" />
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="inventory-profiles">
<h2>Inventory Profiles<a class="headerlink" href="#inventory-profiles" title="Link to this heading"></a></h2>
<p>Inventory profiles define access security, timezone, DNS, NTP settings profiles for network switches and SoftGate nodes.
To create a new Inventory profile, click +Add under the Net→Inventory Profiles section.</p>
<section id="fields-descriptions">
<h3>Fields descriptions:<a class="headerlink" href="#fields-descriptions" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Name</strong> - Profile name.</p></li>
<li><p><strong>Description</strong> - Free text description.</p></li>
<li><p><strong>Allow SSH from IPv4</strong> - List of IPv4 subnets allowed to ssh (one address per line)</p></li>
<li><p><strong>Allow SSH from IPv6</strong> - List of IPv6 subnets allowed to ssh (one address per line)</p></li>
<li><p><strong>Timezone</strong> - Devices using this inventory profile will adjust their system time to the selected timezone.</p></li>
<li><p><strong>NTP servers</strong> - List of domain names or IP addresses of NTP servers (one address per line). You can use your Netris Controller address as an NTP server for your switches and SoftGate.</p></li>
<li><p><strong>DNS servers</strong> - List of IP addresses of DNS servers (one address per line). You can use your Netris Controller address as a DNS server for your switches and SoftGate.</p></li>
</ul>
<p><strong>Example:</strong> In this example Netris Controller is used to provide NTP and DNS services to the switches (common setup).</p>
<img alt="_images/inventory_profile.png" class="align-center" src="_images/inventory_profile.png" />
</section>
</section>
<section id="adding-switches-to-topology">
<h2>Adding Switches to Topology<a class="headerlink" href="#adding-switches-to-topology" title="Link to this heading"></a></h2>
<p>You need to define every switch in the Net→Topology section. To add a switch, please go to Net→Topology and click +Add.</p>
<ul class="simple">
<li><p><strong>Name</strong> - Descriptive name.</p></li>
<li><p><strong>Owner Tenant</strong>  - Tenant(typically Admin) who administers this node.</p></li>
<li><p><strong>Description</strong> - Free text description.</p></li>
<li><p><strong>Hardware Type</strong> - For switches: Spine Switch or Leaf Switch.</p></li>
<li><p><strong>NOS*</strong> - Network operating system. Cumulus Linux, Ubuntu SwitchDev (Nvidia Mellanox only), SONiC (not for production use yet)</p></li>
<li><p><strong>Site*</strong> - The site where the switch belongs.</p></li>
<li><p><strong>Inventory Profile</strong> - Reference to Timezone, DNS, NTP, and Security features profile.</p></li>
<li><p><strong>IP Address*</strong> - IPv4 address for the loopback interface.</p></li>
<li><p><strong>Management IP address</strong> - IPv4 address for the out of band management interface.</p></li>
<li><p><strong>Zero-touch provisioning</strong> - Automatically install the NOS. (Experimental in this version)</p></li>
<li><p><strong>MAC address</strong> - Out of band management interface MAC address used for zero-touch provisioning. (Experimental in this version)</p></li>
<li><p><strong>The number of ports</strong> - It is required for the topology manager. WIll be synced to the real number of Switch Ports when Netris Switch Agent establishes the very first connection with the Netris Controller.</p></li>
</ul>
<p><strong>Example:</strong>  Adding a spine switch w/ Cumulus Linux.</p>
<img alt="_images/new_hardware.png" class="align-center" src="_images/new_hardware.png" />
<p>Tip: You can drag/move the units to your desired positions and click “Save positions”.</p>
<p>Note: Repeat this process to define all your switches.</p>
</section>
<section id="topology-manager">
<h2>Topology Manager<a class="headerlink" href="#topology-manager" title="Link to this heading"></a></h2>
<p>The topology manager is for describing and monitoring the desired network topology. Netris Switch Agents will configure the underlying network devices according to this topology dynamically and start watching against potential failures.</p>
<p>To define the links, right-click on the spine switch, then click create a link. Select the “from port,” then “to device” and “port.” See the example below.</p>
<img alt="_images/create_link.png" class="align-center" src="_images/create_link.png" />
<p>All links require definition in the topology manager. Topology links can also be described through a .yaml file when using Kubernetes CRD. (a GUI wizard is planned to be available in v2.10).</p>
<img alt="_images/topology_manager.png" class="align-center" src="_images/topology_manager.png" />
<p>Now when network units and links are defined, your network is automatically configured as long as physical connectivity is in place and Netris Agents can communicate with Netris Controller.</p>
</section>
<section id="hairpin-cumulus-only">
<h2>Hairpin (Cumulus only)<a class="headerlink" href="#hairpin-cumulus-only" title="Link to this heading"></a></h2>
<p>With Cumulus Linux only, we need to loop two ports on spine switches (hairpin cable) in the current release, usually two upstream (higher capacity) ports. We are planning to lift this requirement in the next Netris release (v2.10).</p>
<p>To define what ports will be used as a hairpin, navigate to Net→Switch Ports, or right-click on the spine switch, click Ports in Net–&gt;Topology.</p>
<p>Example: Accessing Switch Ports from Net→Topology</p>
<img alt="_images/switch_port.png" class="align-center" src="_images/switch_port.png" />
<p>For each spine switch, find the two ports that you are going to connect (loop/hairpin) and configure one port as a “hairpin <strong>l2</strong>” and another port as “hairpin <strong>l3</strong>”. The order doesn’t matter. The system needs to know which ports you have dedicated for the hairpin/loop on each spine switch. (do not do this for non-Cumulus switches)
|
|
Example: Editing Switch Port from Net→Switch Ports.</p>
<img alt="_images/edit_switch_port.png" class="align-center" src="_images/edit_switch_port.png" />
<p>Example: Setting port types to “hairpin l2” and “hairpin l3”.</p>
<img alt="_images/hairpin.png" class="align-center" src="_images/hairpin.png" />
<p>Screenshot: Hairpin visualized in Net→Topology</p>
<img alt="_images/hairpin_topology.png" class="align-center" src="_images/hairpin_topology.png" />
</section>
<section id="adding-softgate-nodes-to-topology">
<h2>Adding SoftGate nodes to Topology<a class="headerlink" href="#adding-softgate-nodes-to-topology" title="Link to this heading"></a></h2>
<p>Every SoftGate node first needs to be defined in Netris Controller.
To add a SoftGate node, please go to Net→Topology and click +Add.</p>
<ul class="simple">
<li><p><strong>Name</strong> - Descriptive name.</p></li>
<li><p><strong>Owner Tenant</strong> - Tenant(typically Admin), who administers this node.</p></li>
<li><p><strong>Description</strong> - Free text description.</p></li>
<li><p><strong>Hardware Type</strong> - NFV node.</p></li>
<li><p><strong>Site</strong> - The data center where the current SoftGate node belongs.</p></li>
<li><p><strong>Inventory Profile</strong> - Profile describing the timezone, DNS, NTP, and Security features.</p></li>
<li><p><strong>IP Address</strong> - IPv4 address for the loopback interface.</p></li>
<li><p><strong>Management IP address</strong> - IPv4 address for the out of band management interface.</p></li>
<li><p><strong>NFV Node Port</strong> - A physical port on a spine switch where the SoftGate node’s first SmartNIC port is connected. Typically each spine switch has one SoftGate node connected to it.</p></li>
<li><p><strong>+NAT address</strong> - Public IP addresses to be used as global IP for SNAT/DNAT. (check Enabling NAT section of Network Policies chapter)</p></li>
<li><p><strong>+NAT address pool</strong> - Public IP address subnets to be used as rolling global IP addresses for SNAT. (check Enabling NAT section of Network Policies chapter)</p></li>
</ul>
<p>Example: Adding a SoftGate Node to Topology.</p>
<img alt="_images/softgate_node.png" class="align-center" src="_images/softgate_node.png" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="controller-k8s-installation.html" class="btn btn-neutral float-left" title="Netris Controller Helm Chart" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="switch-agent-installation.html" class="btn btn-neutral float-right" title="Netris switch agent installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Netris.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Alternate Versions</span>
      v: 2.9
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      
      <dl>
        <dt>Versions</dt>
        
           <strong> 
          <dd><a href="/docs/en/2.9/">2.9</a></dd>
           </strong> 
        
          
          <dd><a href="/docs/en/3.0/">3.0</a></dd>
          
        
          
          <dd><a href="/docs/en/3.4/">3.4</a></dd>
          
        
          
          <dd><a href="/docs/en/4.5.3/">4.5.3</a></dd>
          
        
          
          <dd><a href="/docs/en/4.5.4/">4.5.4</a></dd>
          
        
          
          <dd><a href="/docs/en/latest/">latest</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/docs/manifests/en/2.9/netris-docs_en_2.9.pdf">pdf</a></dd>
        
          <dd><a href="/docs/manifests/en/2.9/netris-docs_en_2.9.epub">epub</a></dd>
        
      </dl>
      
      
      <hr/>
      Free theme by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>

<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-152905529-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-152905529-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>