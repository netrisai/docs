<div class="netris-header">
  <span>
    <a href="https://www.netris.io" target="_blank">
      <img width="95px" src="_static/logo.png" class="netris-logo" alt="Logo" />
    </a>
    <span class="github-btn github-btn-large">
      <a class="gh-btn" href="https://netris.io/slack" rel="noopener noreferrer" target="_blank"
        style="margin-left: 15px;">
        <img style="height: 1em;" src="_static/slack.svg" alt="slack_icon">
        Join Slack
      </a>
    </span>
  </span>
</div>

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Kubernetes Integration" name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kubernetes Integration &mdash; Netris Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/styles.css?v=8456483b" />

  
    <link rel="shortcut icon" href="_static/netris_favicon.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=016f71bc"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Terraform: Netris provider" href="terraform-integration.html" />
    <link rel="prev" title="NVIDIA UFM Integration Plugin for Netris Controller" href="netris-ufm-integration.html" /> 
<script type="text/javascript">
   $(document).ready(function () {
    $('a[href^="http://"], a[href^="https://"]').not('a[class*=internal]').attr('target', '_blank');
  });
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #ffffff" >




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction to Netris</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported-platform-matrix.html">Netris Supported Functionality &amp; Platforms Matrix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#switch-fabric-management-functions">Switch Fabric Management Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#monitoring-telemetry">Monitoring &amp; Telemetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#external-routing-functions">External Routing Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#cloud-networking-functions-constructs">Cloud Networking Functions &amp; Constructs</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#overlay-network-functions">Overlay Network Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#ai-specific-functions">AI Specific Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#compute-platform-integrations">Compute Platform Integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#security">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#netris-controller-administration">Netris Controller Administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#management-interfaces">Management Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-platform-matrix.html#hypervisor-worker-node-specific-functionality">Hypervisor/Worker node specific functionality</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="supported-platform-matrix.html#softgate-data-plane-variations">SoftGate Data Plane Variations</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported-platform-matrix.html#netris-and-nos-versions-compatibility-matrix">Netris and NOS versions compatibility matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported-switch-hardware.html">Hardware Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="supported-switch-hardware.html#netris-controller">Netris Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-switch-hardware.html#netris-softgate-hs-multi-vpc-version">Netris SoftGate HS (Multi-VPC version)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="supported-switch-hardware.html#supported-switch-hardware">Supported Switch Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="supported-switch-hardware.html#nvidia">Nvidia</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-switch-hardware.html#dell">Dell</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-switch-hardware.html#edgecore">EdgeCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported-switch-hardware.html#arista">Arista</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="netris-architecture.html">Netris Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="netris-architecture.html#netris-controller">Netris Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="netris-architecture.html#netris-switch-agent">Netris Switch Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="netris-architecture.html#netris-softgate">Netris SoftGate</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Try &amp; Learn Netris</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="try-learn/index.html">Netris Try &amp; Learn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="try-learn/netris-cloudsim.html">Netris Infrastructure Simulation Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="try-learn/using-netris-cloudsim.html">Netris Test Controller &amp; Infrastructure Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="try-learn/using-netris-cloudsim.html#web-console">Web Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/using-netris-cloudsim.html#ssh">SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/using-netris-cloudsim.html#netris-init-modules">Netris Init Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/using-netris-cloudsim.html#start-stop-a-simulation">Start/Stop a Simulation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html">Lab Scenario: GPU-as-a-Service network with NVIDIA Spectrum-X architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#initialize-the-netris-controller">Initialize the Netris controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#start-a-simulation">Start a simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#monitoring-dashboard">Monitoring Dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#topology">Topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#ssh-to-switches">SSH to Switches</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#ssh-to-gpu-servers">SSH to GPU servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#nhn-netris-host-networking-plugin">NHN (Netris host networking plugin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#server-cluster-template">Server Cluster Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#server-cluster">Server Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#checking-the-connectivity">Checking the connectivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="try-learn/nvidia-spectrum-x-scenario.html#cleanup-the-controller">Cleanup the Controller</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ai-netris-host-networking.html">NHN - Netris Host Networking Plugin</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ai-netris-host-networking.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ai-netris-host-networking.html#step-1-install-the-netris-nhn-plugin">Step 1: Install the Netris NHN Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="ai-netris-host-networking.html#step-2-upload-required-packages">Step 2: Upload Required Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="ai-netris-host-networking.html#step-3-configure-dpu-parameters">Step 3: Configure DPU Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="ai-netris-host-networking.html#step-5-verify-the-netris-nhn-service">Step 5: Verify the Netris NHN Service</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vpc.html">Netris VPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#sites">Sites</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#ipam">IPAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#v-nets">V-Nets</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#external-connections">External connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#sitemesh-connections">SiteMesh connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#nat-services">NAT services</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#load-balancing-service">Load-balancing service</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#access-lists">Access lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpc.html#working-with-netris-vpc">Working with Netris VPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Netris Generic Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/installing-netris-controller.html">Installing a Netris Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/installing-netris-controller.html#security-matters">Security Matters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/upgrading-netris.html">Upgrade and Rollback</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#netris-upgrade-procedure">Netris upgrade Procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#backup-current-database">Backup current database</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#stop-netris-agents">Stop Netris Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#check-your-current-version">Check your current version</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#upgrade-the-controller">Upgrade the Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#check-the-upgraded-version">Check the upgraded version</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#upgrade-switches-and-softgate-nodes">Upgrade Switches and SoftGate nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#rollback-procedure">Rollback Procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#id1">Stop Netris Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#restore-the-database">Restore The Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#downgrade-the-controller-software">Downgrade the Controller Software</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/upgrading-netris.html#downgrade-netris-agent-software">Downgrade Netris Agent Software</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/vpc-anywhere.html">VPC Anywhere Getting Started Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-concept.html">VPC Anywhere Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-concept.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-concept.html#concept">Concept</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-controller-installation.html">Install a Netris Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-controller-installation.html#requirements-and-installation-steps">Requirements and Installation steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-controller-installation.html#security-matters">Security Matters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-check-default-site.html">Check Default Site Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-softgate-installation.html">SoftGate Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-softgate-installation.html#minimum-hardware-requirements">Minimum Hardware Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-softgate-installation.html#softgate-software-provisioning">SoftGate software provisioning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-upstream-peering.html">Connecting VPC to upstream networks (use one of two options)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-upstream-peering.html#using-a-vlan-with-public-ip-addresses-dmz">Using a VLAN with public IP addresses (DMZ)</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-upstream-peering.html#bgp-upstream">BGP Upstream</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/vpc-anywhere-upstream-peering.html#bgp-upstream-overview">BGP Upstream: overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/vpc-anywhere-upstream-peering.html#bgp-upstream-configuration">BGP Upstream: configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-ipam-setup.html">IPAM Setup for Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-ipam-setup.html#create-an-allocation">Create an allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-ipam-setup.html#enable-on-demand-l4-elastic-load-balancer">Enable on-demand L4 (elastic) Load Balancer</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-ipam-setup.html#enable-network-address-translation-nat">Enable Network Address Translation (NAT)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-using-nat.html">Using NAT services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-using-nat.html#masquerade">MASQUERADE</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-using-nat.html#snat">SNAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-using-nat.html#dnat">DNAT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-using-vnet.html">Using V-Net (isolated virtual network) services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-using-vnet.html#creating-a-v-net">Creating a V-Net</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-using-l4lb.html">Using on-demand (elastic) L4 Load Balancer service</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-anywhere-using-multi-interface-softgate.html">Using Multi-interface SoftGate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-using-multi-interface-softgate.html#creating-a-v-net">Creating a V-Net</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/vpc-anywhere-using-multi-interface-softgate.html#softgate-to-softgate-link">SoftGate to SoftGate Link</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/netris-vpc-for-equinix-metal.html">Getting Started with Equinix Metal VPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/install-netris-controller-in-equinix-metal.html">Installing a Netris Controller on Equinix Metal on-demand server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/install-netris-controller-in-equinix-metal.html#installation-steps">Installation Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/install-netris-controller-in-equinix-metal.html#security-matters">Security Matters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/equinix-metal-api-integration-enablement.html">Enable Equinix Metal API integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/adding-netris-softgate-nodes-in-equinix-metal.html">Provisioning Netris SoftGate nodes in Equinix Metal Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/activating-bgp-on-equinix-metal-project.html">Activating BGP on Equinix Metal Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/enable-services-on-equinix-metal-project.html">Enabling services (NAT, V-Net, Load Balancer, IP pools)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/enable-services-on-equinix-metal-project.html#requesting-new-public-ip-address-block">1) Requesting new Public IP address block</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/enable-services-on-equinix-metal-project.html#enable-on-demand-elastic-load-balancer">2) Enable on-demand (elastic) Load Balancer</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/enable-services-on-equinix-metal-project.html#enable-v-net">3) Enable V-Net</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/enable-services-on-equinix-metal-project.html#enable-nat">4) Enable NAT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/using-vnet-in-equinix-metal-project.html">Using V-Net (isolated virtual network) services in Equinix Metal Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/using-vnet-in-equinix-metal-project.html#tags">Tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/using-vnet-in-equinix-metal-project.html#unmanaged">Unmanaged</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/using-l4-load-balancer.html">Using on-demand (elastic) L4 Load Balancer service</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/netris-vpc-for-phoenixnap-bmc.html">Getting Started with PhoenixNAP VPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/phoenixnap-bmc-concept.html">Netris VPC for phoenixNAP BMC Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-concept.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-concept.html#concept">Concept</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/phoenixnap-bmc-link-to-installation.html">Installing Netris on phoenixNAP BMC</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html">IPAM Setup for Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html#option-1-separated-allocation-for-each-purpose">Option 1 - Separated allocation for each purpose</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html#enable-on-demand-elastic-load-balancer">1. Enable on-demand (elastic) Load Balancer</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html#enable-nat">2. Enable NAT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html#option-2-splitting-single-allocation-into-different-subnets">Option 2 - Splitting single allocation into different subnets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html#id1">1. Enable on-demand (elastic) Load Balancer</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html#id2">2. Enable NAT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-ipam-setup.html#note">Note*</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-nat.html">Using NAT services in phoenixNAP BMC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-nat.html#option-1-masquerade">Option 1 - MASQUERADE</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-nat.html#option-2-snat">Option 2 - SNAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-nat.html#dnat">DNAT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-vnet.html">Using V-Net (isolated virtual network) services in phoenixNAP BMC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-vnet.html#adding-subnets-for-v-net">Adding Subnets for V-Net</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-vnet.html#creating-a-v-net">Creating a V-Net</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-vnet.html#deploy-a-new-server-w-dynamic-ip-into-an-existing-v-net">Deploy a new server w/ dynamic IP into an existing V-Net</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-vnet.html#deploy-a-new-server-w-static-ip-into-an-existing-v-net">Deploy a new server w/ static IP into an existing V-Net</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-vnet.html#tags">Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-vnet.html#unmanaged">Unmanaged</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/phoenixnap-bmc-using-l4lb.html">Using on-demand (elastic) L4 Load Balancer service in phoenixNAP BMC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/netris-vpc-for-aws.html">Enabling Site Mesh with AWS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/aws-concept.html">Site Mesh with AWS Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/aws-concept.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/aws-concept.html#concept">Concept</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/aws-deploy-softgate.html">Deploy a Softgate in AWS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#create-an-ec2-instance">Create an EC2 instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#configure-netris-controller">Configure Netris Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#pre-requisite-steps">Pre-Requisite Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#add-aws-vpc-subnet-into-the-netris-controller">Add AWS VPC Subnet into the Netris Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#static-route-for-aws-vpc-subnet-in-netris-controller">Static route for AWS VPC Subnet in Netris Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#create-the-softgate-in-the-netris-controller">Create the Softgate in the Netris Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#netris-softgate-node-provisioning">Netris SoftGate node provisioning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#configure-aws-vpc">Configure AWS VPC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#adding-routes">Adding routes</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#ec2-source-destination-check">EC2 Source / destination check</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/aws-deploy-softgate.html#enabling-site-mesh">Enabling Site Mesh</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/netris-vpc-for-gcp.html">Enabling Site Mesh with GCP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/gcp-concept.html">Site Mesh with GCP Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/gcp-concept.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/gcp-concept.html#concept">Concept</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html">Deploy a Softgate in GCP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#create-a-vm-instance">Create a VM instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#configure-netris-controller">Configure Netris Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#pre-requisite-steps">Pre-Requisite Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#create-the-softgate-in-the-netris-controller">Create the Softgate in the Netris Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#add-gcp-vpc-subnet-s-into-the-netris-controller">Add GCP VPC Subnet(s) into the Netris Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#static-route-for-gcp-vpc-subnet-s-in-netris-controller">Static route for GCP VPC Subnet(s) in Netris Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#netris-softgate-node-provisioning">Netris SoftGate node provisioning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#configure-routing-in-gcp-vpc">Configure routing in GCP VPC</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/gcp-deploy-softgate.html#enabling-site-mesh">Enabling Site Mesh</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/vpc-gateways-with-managed-fabric.html">Getting Started with Switch-Fabric Manager &amp; VPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-managed-fabric-overview.html">Netris managed fabric Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-managed-fabric-overview.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-managed-fabric-overview.html#concept">Concept</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-controller-installation.html">Install a Netris Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-controller-installation.html#requirements-and-installation-steps">Requirements and Installation steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-controller-installation.html#security-matters">Security Matters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/new-site-setup.html">New Site setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/vpc-setup.html">VPC setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/ipam-setup.html">IPAM setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/inventory-setup.html">Inventory setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/topology-setup.html">Topology setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/softgate-software-provisioning.html">SoftGate software provisioning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/softgate-software-provisioning.html#softgate-pro-100g-software-provisioning">SoftGate PRO (100G) software provisioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/softgate-software-provisioning.html#softgate-1g-10g-software-provisioning">SoftGate (1G, 10G) software provisioning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-switch-agent-installation.html">Netris Switch Agent Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/connecting-fabric-to-isp.html">Connecting Netris managed fabric to an ISP</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/connecting-servers-fabric.html">Connecting servers to the Netris managed fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/enabling-nat-services.html">Enabling NAT services</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/enabling-load-balancing-services.html">Enabling Load-balancing services</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/more-features.html">More features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/netris-cloudstack.html">Netris-CloudStack Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html">High-Level Concept of Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html#how-it-works">How It Works</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html#challenges-addressed">Challenges Addressed</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html#benefits">Benefits</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html#use-cases">Use Cases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html#compute-and-network-architecture">Compute and Network Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html#diagram-overview">Diagram Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p1.html#network-flow">Network Flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#step-by-step-configuration-instructions-for-the-netris-controller">Step-by-Step Configuration Instructions for the Netris Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#ipam-setup">IPAM Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#create-an-allocation">Create an Allocation</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#create-subnets">Create Subnets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#inventory-setup">Inventory Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#adding-servers">Adding Servers</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#creating-servers-links">Creating Servers’ Links</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#optimize-bgp-overlay-for-hypervisor">Optimize BGP Overlay for Hypervisor</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#adding-subnets-for-cloudstack-cluster">Adding Subnets for CloudStack Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#enabling-internet-connectivity-for-acs-servers">Enabling Internet Connectivity for ACS Servers</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#enabling-access-to-cloudstack-management-gui">Enabling Access to CloudStack Management GUI</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p2.html#creating-cloudstack-networks">Creating CloudStack Networks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html">Server Configuration and Software Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#configuring-network-on-cloudstack-management-server-server-1">Configuring Network on CloudStack Management Server (Server 1)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#understanding-the-network-layout">Understanding the Network Layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#netplan-configuration">Netplan Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#install-netris-cloudstack-agent-on-hypervisor-servers">Install Netris-CloudStack Agent on Hypervisor Servers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#bringing-up-nics-before-installation">Bringing Up NICs Before Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#pre-installation-steps-for-deployments-without-oob">Pre-Installation Steps (For Deployments Without OOB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#key-functions-of-the-netris-cloudstack-agent">Key Functions of the Netris-CloudStack Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#installation-steps">Installation Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#example-successful-output-of-one-liner-script">Example Successful Output of One-Liner Script</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#verification-steps">Verification Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#checking-network-connectivity">Checking Network Connectivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#finalizing-the-network-setup">Finalizing the Network Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#keeping-the-temporary-oob-vnet-for-emergency-access"><strong>Keeping the Temporary OOB VNet for Emergency Access</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#managing-additional-nics-on-the-server">Managing Additional NICs on the Server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#install-cloudstack-management-service">Install CloudStack Management Service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p3.html#id1">Installation Steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-cloudstack_p4.html">Configuring CloudStack for Netris Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p4.html#enabling-the-netris-plugin-in-cloudstack">Enabling the Netris Plugin in CloudStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p4.html#initializing-cloudstack-setup">Initializing CloudStack Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p4.html#steps-to-initialize-cloudstack">Steps to Initialize CloudStack</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html">Using CloudStack with Netris Isolation Method</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#creating-a-vpc">Creating a VPC</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#creating-a-network-tier">Creating a Network Tier</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#port-forwarding">Port Forwarding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#seamless-integration-between-cloudstack-and-netris">Seamless Integration Between CloudStack and Netris</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#step-by-step-process-for-configuring-port-forwarding-in-cloudstack-with-netris">Step-by-Step Process for Configuring Port Forwarding in CloudStack with Netris</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#key-notes">Key Notes:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#configuring-static-nat-in-cloudstack">Configuring Static NAT in CloudStack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#how-static-nat-works-with-cloudstack-and-netris">How Static NAT Works with CloudStack and Netris</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#steps-to-configure-static-nat">Steps to Configure Static NAT:</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#how-cloudstack-and-netris-work-together">How CloudStack and Netris Work Together</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/netris-cloudstack_p5.html#final-notes">Final Notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="netris-ufm-integration.html">NVIDIA UFM Integration Plugin for Netris Controller</a><ul>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#key-benefits">Key Benefits</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#ufm-configuration-requirements">UFM Configuration Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#option-1-deploy-within-an-existing-netris-controller-kubernetes-cluster">Option 1: Deploy within an existing Netris Controller Kubernetes cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#option-2-deploy-as-a-standalone-docker-container">Option 2: Deploy as a standalone Docker container</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#configuration-parameters">Configuration Parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#netris-controller-configuration">Netris Controller Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#nvidia-ufm-configuration">NVIDIA UFM Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#agent-configuration">Agent Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#usage-guide">Usage Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#server-configuration-in-netris">1. Server Configuration in Netris</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#create-a-server-cluster-template">2. Create a Server Cluster Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#create-server-clusters">4. Create Server Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#verification">3. Verification</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#monitoring-integration-status">4. Monitoring Integration Status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#functional-workflow">Functional Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#monitoring-and-troubleshooting">Monitoring and Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#viewing-logs">Viewing Logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#common-issues-and-solutions">Common Issues and Solutions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="netris-ufm-integration.html#connection-issues-to-netris-controller-or-ufm">Connection Issues to Netris Controller or UFM</a></li>
<li class="toctree-l4"><a class="reference internal" href="netris-ufm-integration.html#pkey-assignment-issues">PKey Assignment Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="netris-ufm-integration.html#sharp-reservation-issues">SHARP Reservation Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="netris-ufm-integration.html#synchronization-delays">Synchronization Delays</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#version-compatibility">Version Compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#getting-started-guide">Getting Started Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="netris-ufm-integration.html#quick-setup-example">Quick Setup Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netris-ufm-integration.html#additional-resources">Additional Resources</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Cloud Native Tools</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Kubernetes Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-netris-operator">Install Netris Operator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#helm-chart-method">Helm Chart Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="#regular-manifest-method">Regular Manifest Method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-type-loadbalancer">Using Type ‘LoadBalancer’</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-netris-custom-resources">Using Netris Custom Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-netris-custom-resources">Introduction to Netris Custom Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#l4lb-custom-resource">L4LB Custom Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v-net-custom-resource">V-Net Custom Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bgp-custom-resource">BGP Custom Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#importing-existing-resources-from-netris-controller-to-kubernetes">Importing existing resources from Netris Controller to Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reclaim-policy">Reclaim Policy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#calico-cni-integration">Calico CNI Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#disabling-netris-calico-integration">Disabling Netris-Calico Integration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="terraform-integration.html">Terraform: Netris provider</a><ul>
<li class="toctree-l2"><a class="reference internal" href="terraform-integration.html#install-terraform">Install Terraform</a></li>
<li class="toctree-l2"><a class="reference internal" href="terraform-integration.html#create-a-directory-for-terraform-files">Create a directory for Terraform files</a></li>
<li class="toctree-l2"><a class="reference internal" href="terraform-integration.html#configure-a-provider">Configure a provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="terraform-integration.html#prepare-an-infrastructure-plan">Prepare an infrastructure plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="terraform-integration.html#create-resources">Create resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="terraform-integration.html#delete-resources">Delete resources</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="vnet.html">V-Net</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vnet.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="vnet.html#l2vpn-v-nets">L2VPN V-Nets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#dhcp">DHCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#v-net-fields-explained">V-Net Fields explained</a></li>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#advanced-v-net-fields-explained">Advanced V-Net Fields explained</a></li>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#multisite-v-nets">Multisite V-Nets</a></li>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#link-aggregation-and-multihoming">Link Aggregation and Multihoming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="vnet.html#ethernet-vpn-multi-homing-evpn-mh">Ethernet VPN Multi-Homing (EVPN-MH)</a></li>
<li class="toctree-l4"><a class="reference internal" href="vnet.html#mc-lag">MC-LAG</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#labels">Labels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="vnet.html#how-labels-work">How labels work</a></li>
<li class="toctree-l4"><a class="reference internal" href="vnet.html#rules-and-limits">Rules and limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="vnet.html#when-to-use-labels">When to use labels</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vnet.html#l3vpn">L3VPN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#creating-an-l3vpn-v-net">Creating an L3VPN V-Net</a></li>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#id1">Rules and limits</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vnet.html#verification-tools">Verification Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vnet.html#ui-tools">UI Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l3-load-balancer.html">L3 Load Balancer (Anycast LB)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l3-load-balancer.html#creating-an-l3-load-balancer">Creating an L3 Load Balancer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l4-load-balancer.html">L4 Load Balancer (L4LB)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l4-load-balancer.html#enabling-l4lb-service">Enabling L4LB service</a></li>
<li class="toctree-l2"><a class="reference internal" href="l4-load-balancer.html#consuming-l4lb-service">Consuming L4LB service</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="acls.html">Access Control Lists (ACL)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="acls.html#acl-default-policy">ACL Default Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="acls.html#acl-rules">ACL Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="acls.html#acl-approval-workflow">ACL Approval Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="acls.html#acl-processing-order">ACL Processing Order</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roh.html">ROH (Routing on the Host)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="roh.html#adding-roh-hosts">Adding ROH Hosts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="server-cluster.html">Server Cluster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="server-cluster.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="server-cluster.html#server-cluster-template">Server Cluster Template</a><ul>
<li class="toctree-l3"><a class="reference internal" href="server-cluster.html#server-cluster-template-examples">Server Cluster Template Examples:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="server-cluster.html#ethernet-only-fabric-example">Ethernet-only Fabric Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="server-cluster.html#infiniband-fabric-example">Infiniband Fabric Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="server-cluster.html#ipv6-example">IPv6 Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="server-cluster.html#template-fields-explained">Template Fields Explained:</a></li>
<li class="toctree-l3"><a class="reference internal" href="server-cluster.html#adding-a-server-cluster-template">Adding a Server Cluster Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="server-cluster.html#advanced-uses">Advanced Uses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="server-cluster.html#non-overlapping-subnets">Non-overlapping subnets</a></li>
<li class="toctree-l4"><a class="reference internal" href="server-cluster.html#specify-gateway">Specify gateway</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="server-cluster.html#creating-server-cluster">Creating Server Cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="server-cluster.html#adding-a-server-cluster">Adding a Server Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="server-cluster.html#shared-endpoints">Shared Endpoints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="server-cluster.html#untagged-vlan-on-shared-endpoints">Untagged VLAN on Shared Endpoints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="server-cluster.html#server-cluster-fields-explained">Server Cluster Fields Explained:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Policies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html">VPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#adding-new-vpc">Adding new VPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#ip-address-management">IP Address Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#allocations-and-subnets">Allocations and Subnets</a></li>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#ipam-tree-view">IPAM Tree View</a></li>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#add-an-allocation">Add an Allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#add-a-subnet">Add a Subnet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#basic-bgp">Basic BGP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#adding-bgp-peers">Adding BGP Peers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#advanced-bgp">Advanced BGP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#bgp-objects">BGP Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="network-policies.html#ipv4-prefix">IPv4 Prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="network-policies.html#ipv6-prefix">IPv6 Prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="network-policies.html#community">Community</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#bgp-route-maps">BGP route-maps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#static-routing">Static Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#nat">NAT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#enabling-nat">Enabling NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="network-policies.html#defining-nat-rules">Defining NAT rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#sitemesh">SiteMesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="network-policies.html#looking-glass">Looking Glass</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Operations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="accounts.html">Accounts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#users">Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#tenants">Tenants</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#permission-groups">Permission Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#user-roles">User Roles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance-mode.html">Maintenance Mode</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maintenance-mode.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance-mode.html#maintenance-mode-for-softgate-whats-happening-behind-the-scenes">Maintenance Mode for Softgate - What’s happening behind the scenes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance-mode.html#maintenance-mode-for-switch-whats-happening-behind-the-scenes">Maintenance Mode for Switch - What’s happening behind the scenes?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/upgrading-netris.html">Upgrade and Rollback</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/upgrading-netris.html#netris-upgrade-procedure">Netris upgrade Procedure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#backup-current-database">Backup current database</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#stop-netris-agents">Stop Netris Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#check-your-current-version">Check your current version</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#upgrade-the-controller">Upgrade the Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#check-the-upgraded-version">Check the upgraded version</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#upgrade-switches-and-softgate-nodes">Upgrade Switches and SoftGate nodes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/upgrading-netris.html#rollback-procedure">Rollback Procedure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#id1">Stop Netris Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#restore-the-database">Restore The Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#downgrade-the-controller-software">Downgrade the Controller Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/upgrading-netris.html#downgrade-netris-agent-software">Downgrade Netris Agent Software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visibility.html">Visibility (Telescope)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="visibility.html#graph-boards">Graph Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="visibility.html#api-logs">API Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="visibility.html#dashboard">Dashboard</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Monitoring &amp; Observability</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="monitoring-observability/index.html">Monitoring &amp; Observability</a><ul>
<li class="toctree-l2"><a class="reference internal" href="monitoring-observability/topology-validation.html">Topology &amp; Wiring Validation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monitoring-observability/topology-validation.html#switch-to-switch-and-switch-to-softgate">Switch-to-switch and Switch-to-SoftGate</a></li>
<li class="toctree-l3"><a class="reference internal" href="monitoring-observability/topology-validation.html#switch-to-server">Switch-to-Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="monitoring-observability/netq.html">NVIDIA NetQ Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monitoring-observability/netq.html#topology-blueprint-activation">Topology Blueprint Activation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Switch-fabric Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topology-management.html">Inventory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="topology-management.html#inventory-profiles">Inventory Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology-management.html#adding-switches">Adding Switches</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology-management.html#adding-softgates">Adding SoftGates</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology-management.html#viewing-inventory">Viewing Inventory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="topology-management.html#topology-manager">Topology Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="topology-management.html#adding-links">Adding Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="switch-ports.html">Switch Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="lag.html">Link Aggregation (LAG)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lag.html#automatic-lag-with-evpn-multi-homing">Automatic LAG with EVPN Multi-homing</a></li>
<li class="toctree-l2"><a class="reference internal" href="lag.html#custom-lag">Custom LAG</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Detailed Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Controller Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="controller-k3s-installation.html">Netris Controller installation on a generic Linux host</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-installation.html#linux-host-requirements">Linux Host requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-installation.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-installation.html#installation-with-the-specific-host-name">Installation with the specific host name</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-installation.html#installation-with-the-let-s-encrypt-ssl">Installation with the Let’s Encrypt SSL</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-installation.html#installation-with-the-custom-ssl-issuer">Installation with the Custom SSL Issuer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-installation.html#upgrading">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-installation.html#uninstalling">Uninstalling</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-installation.html#backup-and-restore">Backup and Restore</a><ul>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-installation.html#backup">Backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-installation.html#restore">Restore</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controller-k8s-installation.html">Helm Chart Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#get-repo-info">Get Repo Info</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#installing-the-chart">Installing the Chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#uninstalling-the-chart">Uninstalling the Chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k8s-installation.html#chart-configuration">Chart Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Controller-local-repository.html">Netris Local Repository Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Controller-local-repository.html#when-why-to-use-the-local-repository">When &amp; Why to Use the Local Repository?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Controller-local-repository.html#how-to-enable-the-local-repository-on-the-netris-controller">How to Enable the Local Repository on the Netris Controller?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Controller-local-repository.html#how-to-consume-local-repository">How to consume local repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="Controller-local-repository.html#upgrade-local-repo-cache">Upgrade Local-Repo Cache</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controller-k3s-air-gap.html">Installing Netris Controller in Air-Gapped Environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap.html#why-air-gapped-installation">Why Air-Gapped Installation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap.html#how-to-install-the-netris-controller">How to Install the Netris Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap.html#steps-to-install">Steps to Install</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap.html#after-installation">After Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap.html#how-to-consume-local-repository">How to consume local repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controller-k3s-air-gap-ha.html">Installing HA Netris Controller in Air-Gapped Environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#why-air-gapped-installation">Why Air-Gapped Installation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#why-a-high-availability-ha-cluster">Why a High Availability (HA) Cluster?</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#obtain-the-installation-file">Obtain the Installation File</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#steps-to-install">Steps to Install</a><ul>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#preparing-each-node">1. Preparing Each Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#install-k3s-on-all-nodes">2. Install K3s on All Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#import-necessary-container-images">3. Import Necessary Container Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#configure-kube-vip-for-kubeapi-high-availability">4. Configure kube-vip for KubeAPI High Availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#add-helm-chart-packages-to-k3s">5. Add Helm Chart Packages to K3s</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#verify-and-scale-core-k3s-components">6. Verify and Scale Core K3s Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#deploy-kube-vip-cloud-controller">7. Deploy Kube-VIP Cloud Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#install-traefik-proxy">8. Install Traefik Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#deploy-the-netris-controller">9. Deploy the Netris Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#optional-enable-ssl-with-cert-manager">10. (Optional) Enable SSL with cert-manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#set-up-the-local-netris-repository">11. Set Up the Local Netris Repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#validate-your-deployment">12. Validate Your Deployment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#after-installation">After Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#how-to-consume-local-repository">How to consume local repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controller-k3s-air-gap-ha.html#upgrading-ha-netris-controller-in-air-gapped-environments">Upgrading HA Netris Controller in Air-Gapped Environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#obtain-the-upgrade-file">Obtain the Upgrade File</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#id2">1. Preparing Each Node</a><ul>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#id3">1.1 Transfer the File to the Servers</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#id4">1.2 Extract the Tarball</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#id5">1.3 Navigate to the Installation Directory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#steps-to-upgrade-controller">2. Steps to Upgrade Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#id6">2.1 Import Necessary Container Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#add-helm-chart-packages-upgrades-to-k3s">2.2 Add Helm Chart Packages Upgrades to K3s</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#upgrade-netris-controller">2.3 Upgrade Netris Controller</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#steps-to-upgrade-the-local-netris-repository">3. Steps to Upgrade the Local Netris Repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controller-k3s-air-gap-ha.html#maintenance-procedures">Maintenance Procedures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#node-maintenance-best-practices">Node Maintenance Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#individual-node-maintenance-recommended-approach">Individual Node Maintenance (Recommended Approach)</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-k3s-air-gap-ha.html#full-cluster-maintenance-when-all-nodes-need-simultaneous-maintenance">Full Cluster Maintenance (When All Nodes Need Simultaneous Maintenance)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#verifying-mariadb-cluster-health">Verifying MariaDB Cluster Health</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-k3s-air-gap-ha.html#maintenance-best-practices">Maintenance Best Practices</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="switch-agent-installation.html">Network Switch Initial Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Nvidia-Cumulus-v5.9%2B-Switch-initial-setup.html">Nvidia Cumulus v5.9+ Switch Initial Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nvidia-Cumulus-v5-Switch-initial-setup.html">Nvidia Cumulus v5 Switch Initial Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ubuntu-SwitchDev-Switch-initial-setup.html">Ubuntu SwitchDev Switch Initial Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="EdgeCore-SONiC-Switch-initial-setup.html">EdgeCore SONiC Switch Initial Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dell-SONiC-Switch-initial-setup.html">Dell SONiC Switch Initial Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nvidia-Cumulus-v3.7-Switch-initial-setup.html">Nvidia Cumulus v3.7 Switch Initial Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SoftGate-HS-installation.html">SoftGate HS Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-HS-installation.html#minimum-hardware-requirements">Minimum Hardware Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-HS-installation.html#provision-netris-softgate-software">Provision Netris SoftGate software</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SoftGate-installation.html">SoftGate Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-installation.html#minimum-hardware-requirements">Minimum Hardware Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-installation.html#provision-netris-softgate-software">Provision Netris SoftGate software</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SoftGate-PRO-installation.html">SoftGate PRO Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-PRO-installation.html#minimum-hardware-requirements">Minimum Hardware Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-PRO-installation.html#bios-configuration">BIOS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="SoftGate-PRO-installation.html#install-the-netris-agent">Install the Netris Agent</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="softgate-performance.html">SoftGate Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html">Learn Netris Operations with Kubernetes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#intro">Intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#install-netris-operator">Install Netris Operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#deploy-an-application-with-an-on-demand-netris-load-balancer">Deploy an Application with an On-Demand Netris Load Balancer</a></li>
<li class="toctree-l2"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#using-netris-custom-resources">Using Netris Custom Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#introduction-to-netris-custom-resources">Introduction to Netris Custom Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#l4lb-custom-resource">L4LB Custom Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#v-net-custom-resource">V-Net Custom Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#bgp-custom-resource">BGP Custom Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#importing-existing-resources-from-netris-controller-to-kubernetes">Importing Existing Resources from Netris Controller to Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#reclaim-policy">Reclaim Policy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#netris-calico-cni-integration">Netris Calico CNI Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sandbox/Sandbox1/onprem-k8s.html#disabling-netris-calico-integration">Disabling Netris-Calico Integration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #ffffff" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Netris docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!--
<div class="header-wrapper">
    <div>
        <a class="underscore-transition" href="https://www.netris.io/overview/">
            Product Overview
        </a>
        <a class="underscore-transition" href="https://www.netris.io/start/">
            Get started
        </a>
        <a class="underscore-transition" href="https://www.netris.io/category/blog/">
            Blog
        </a>
    </div>
    <a class="button" href="https://netris.io/demo">
        Schedule a demo
    </a>
</div>
--><div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Kubernetes Integration</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/netrisai/docs/blob/master/kubernetes-integration.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="netris-ufm-integration.html" class="btn btn-neutral float-left" title="NVIDIA UFM Integration Plugin for Netris Controller" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="terraform-integration.html" class="btn btn-neutral float-right" title="Terraform: Netris provider" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="kubernetes-integration">
<h1>Kubernetes Integration<a class="headerlink" href="#kubernetes-integration" title="Link to this heading"></a></h1>
<p>Netris integrates with Kube API to provide on-demand load balancer and other Kubernetes specific networking features. Netris-Kubernetes integration is designed to complement Kubernetes CNI networking and provide a cloud-like user experience to local Kubernetes clusters.</p>
<section id="install-netris-operator">
<h2>Install Netris Operator<a class="headerlink" href="#install-netris-operator" title="Link to this heading"></a></h2>
<p>Integration between the Netris Controller and the Kubernetes API is completed by installing the Netris Operator.  Installation can be accomplished by installing regular manifests or a helm chart:</p>
<section id="helm-chart-method">
<h3>Helm Chart Method<a class="headerlink" href="#helm-chart-method" title="Link to this heading"></a></h3>
<p>Instructions are available on Github: <a class="reference external" href="https://github.com/netrisai/netris-operator/tree/master/deploy/charts/netris-operator#installing-the-chart">https://github.com/netrisai/netris-operator/tree/master/deploy/charts/netris-operator#installing-the-chart</a></p>
</section>
<section id="regular-manifest-method">
<h3>Regular Manifest Method<a class="headerlink" href="#regular-manifest-method" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Install the latest Netris Operator:</p></li>
</ol>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl apply -f https://github.com/netrisai/netris-operator/releases/latest/download/netris-operator.yaml</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Create credentials secret for Netris Operator:</p></li>
</ol>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl -nnetris-operator create secret generic netris-creds \</span>
<span class="go">--from-literal=host=&#39;http://**your-netris-controller-ip-or-host**&#39; \</span>
<span class="go">--from-literal=login=&#39;**your-netris-admin-username**&#39; --from-literal=password=&#39;**your-netris-admin-password**&#39;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Inspect the pod logs and make sure the operator is connected to Netris Controller:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kubectl</span> <span class="o">-</span><span class="n">nnetris</span><span class="o">-</span><span class="n">operator</span> <span class="n">logs</span> <span class="o">-</span><span class="n">l</span> <span class="n">netris</span><span class="o">-</span><span class="n">operator</span><span class="o">=</span><span class="n">controller</span><span class="o">-</span><span class="n">manager</span> <span class="o">--</span><span class="nb">all</span><span class="o">-</span><span class="n">containers</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
<p>Example output demonstrating the successful operation of Netris Operator:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">{&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1629994653.6441543,&quot;logger&quot;:&quot;controller&quot;,&quot;msg&quot;:&quot;Starting workers&quot;,&quot;reconcilerGroup&quot;:&quot;k8s.netris.ai&quot;,&quot;reconcilerKind&quot;:&quot;L4LB&quot;,&quot;controller&quot;:&quot;l4lb&quot;,&quot;worker count&quot;:1}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After installing the Netris Operator, your Kubernetes cluster and physical network control planes are connected.</p>
</div>
</section>
</section>
<section id="using-type-loadbalancer">
<h2>Using Type ‘LoadBalancer’<a class="headerlink" href="#using-type-loadbalancer" title="Link to this heading"></a></h2>
<p>In this scenario we will be installing a simple application that requires a network load balancer:</p>
<p>Install the application <a class="reference external" href="https://github.com/stefanprodan/podinfo">“Podinfo”</a>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl apply -k github.com/stefanprodan/podinfo/kustomize</span>
</pre></div>
</div>
<p>Get the list of pods and services in the default namespace:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get po,svc</span>
</pre></div>
</div>
<p>As you can see, the service type is “ClusterIP”:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                           READY   STATUS    RESTARTS   AGE</span>
<span class="go">pod/podinfo-576d5bf6bd-7z9jl   1/1     Running   0          49s</span>
<span class="go">pod/podinfo-576d5bf6bd-nhlmh   1/1     Running   0          33s</span>

<span class="go">NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)             AGE</span>
<span class="go">service/podinfo      ClusterIP   172.21.65.106   &lt;none&gt;        9898/TCP,9999/TCP   50s</span>
</pre></div>
</div>
<p>In order to request access from outside, change the type to “LoadBalancer”:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl patch svc podinfo -p &#39;{&quot;spec&quot;:{&quot;type&quot;:&quot;LoadBalancer&quot;}}&#39;</span>
</pre></div>
</div>
<p>Check the services again:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get svc</span>
</pre></div>
</div>
<p>Now we can see that the service type changed to LoadBalancer, and “EXTERNAL-IP” switched to pending state:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                         AGE</span>
<span class="go">podinfo      LoadBalancer   172.21.65.106   &lt;pending&gt;     9898:32584/TCP,9999:30365/TCP   8m57s</span>
</pre></div>
</div>
<p>Going into the Netris Controller web interface, navigate to <strong>Services / L4 Load Balancer</strong>, and you may see L4LBs provisioning in real-time. If you do not see the provisioning process it is likely because it already completed. Look for the service with the name <strong>“podinfo-xxxxxxxx”</strong></p>
<img alt="Sandbox pod provisioning" class="with-shadow align-center" src="_images/sandbox-podinfo-prov.png" />
<p>After provisioning has finished, inspect the service in k8s:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get svc</span>
</pre></div>
</div>
<p>You can see that “EXTERNAL-IP” has been injected into Kubernetes:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME         TYPE           CLUSTER-IP      EXTERNAL-IP     PORT(S)                         AGE</span>
<span class="go">podinfo      LoadBalancer   172.21.65.106   50.117.59.202   9898:32584/TCP,9999:30365/TCP   9m17s</span>
</pre></div>
</div>
</section>
<section id="using-netris-custom-resources">
<h2>Using Netris Custom Resources<a class="headerlink" href="#using-netris-custom-resources" title="Link to this heading"></a></h2>
<section id="introduction-to-netris-custom-resources">
<h3>Introduction to Netris Custom Resources<a class="headerlink" href="#introduction-to-netris-custom-resources" title="Link to this heading"></a></h3>
<p>In addition to provisioning on-demand network load balancers, Netris Operator can also provide automatic creation of network services based on Kubernetes CRD objects. Let’s take a look at a few common examples:</p>
</section>
<section id="l4lb-custom-resource">
<h3>L4LB Custom Resource<a class="headerlink" href="#l4lb-custom-resource" title="Link to this heading"></a></h3>
<p>In the previous section, when we changed the service type from “ClusterIP” to “LoadBalancer”, Netris Operator detected a new request for a network load balancer, then it created L4LB custom resources. Let’s see them:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get l4lb</span>
</pre></div>
</div>
<p>As you can see, there are two L4LB resources, one for each podinfo’s service port:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                                                            STATE    FRONTEND        PORT       SITE     TENANT   STATUS   AGE</span>
<span class="go">podinfo-default-66d44feb-0278-412a-a32d-73afe011f2c6-tcp-9898   active   50.117.59.202   9898/TCP   US/NYC   Admin    OK       33m</span>
<span class="go">podinfo-default-66d44feb-0278-412a-a32d-73afe011f2c6-tcp-9999   active   50.117.59.202   9999/TCP   US/NYC   Admin    OK       32m</span>
</pre></div>
</div>
<p>You can’t edit/delete them, because Netris Operator will recreate them based on what was originally deployed in the service specifications.</p>
<p>Instead, let’s create a new load balancer using the CRD method.  This method allows us to create L4 load balancers for services outside of what is being created natively with the Kubernetes service schema.  Our new L4LB’s backends will be “srv04-nyc” &amp; “srv05-nyc” on TCP port 80. These servers are already running the Nginx web server, with the hostname present in the index.html file.</p>
<p>Create a yaml file:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">cat &lt;&lt; EOF &gt; srv04-5-nyc-http.yaml</span>
<span class="go">apiVersion: k8s.netris.ai/v1alpha1</span>
<span class="go">kind: L4LB</span>
<span class="go">metadata:</span>
<span class="go"> name: srv04-5-nyc-http</span>
<span class="go">spec:</span>
<span class="go"> ownerTenant: Admin</span>
<span class="go"> site: US/NYC</span>
<span class="go"> state: active</span>
<span class="go"> protocol: tcp</span>
<span class="go"> frontend:</span>
<span class="go">   port: 80</span>
<span class="go"> backend:</span>
<span class="go">   - 192.168.45.64:80</span>
<span class="go">   - 192.168.46.65:80</span>
<span class="go"> check:</span>
<span class="go">   type: tcp</span>
<span class="go">   timeout: 3000</span>
<span class="go">EOF</span>
</pre></div>
</div>
<p>And apply it:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl apply -f srv04-5-nyc-http.yaml</span>
</pre></div>
</div>
<p>Inspect the new L4LB resources via kubectl:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get l4lb</span>
</pre></div>
</div>
<p>As you can see, provisioning started:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                                                            STATE    FRONTEND        PORT       SITE     TENANT   STATUS         AGE</span>
<span class="go">podinfo-default-d07acd0f-51ea-429a-89dd-8e4c1d6d0a86-tcp-9898   active   50.117.59.202   9898/TCP   US/NYC   Admin    OK             2m17s</span>
<span class="go">podinfo-default-d07acd0f-51ea-429a-89dd-8e4c1d6d0a86-tcp-9999   active   50.117.59.202   9999/TCP   US/NYC   Admin    OK             3m47s</span>
<span class="go">srv04-5-nyc-http                                                active   50.117.59.203   80/TCP     US/NYC   Admin    Provisioning   6s</span>
</pre></div>
</div>
<p>When provisioning is finished, you should be able to connect to L4LB. Try to curl, using the L4LB frontend address displayed in the above command output:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">curl 50.117.59.203</span>
</pre></div>
</div>
<p>You will see the servers’ hostname in curl output:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">SRV04-NYC</span>
</pre></div>
</div>
<p>You can also inspect the L4LB in the Netris Controller web interface:</p>
<img alt="View L4 LB instances" class="with-shadow align-center" src="_images/sandbox-l4lbs.png" />
</section>
<section id="v-net-custom-resource">
<h3>V-Net Custom Resource<a class="headerlink" href="#v-net-custom-resource" title="Link to this heading"></a></h3>
<p>You can also create Netris V-Nets (L2 segments) via Kubernetes with a simple manifest:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">cat &lt;&lt; EOF &gt; vnet-customer.yaml</span>
<span class="go">apiVersion: k8s.netris.ai/v1alpha1</span>
<span class="go">kind: VNet</span>
<span class="go">metadata:</span>
<span class="go"> name: vnet-customer</span>
<span class="go">spec:</span>
<span class="go"> ownerTenant: Admin</span>
<span class="go"> guestTenants: []</span>
<span class="go"> sites:</span>
<span class="go">   - name: US/NYC</span>
<span class="go">     gateways:</span>
<span class="go">       - 192.168.46.1/24</span>
<span class="go">     switchPorts:</span>
<span class="go">       - name: swp2@sw22-nyc</span>
<span class="go">EOF</span>
</pre></div>
</div>
<p>And apply it:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl apply -f vnet-customer.yaml</span>
</pre></div>
</div>
<p>Let’s check our VNet resources in Kubernetes:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get vnet</span>
</pre></div>
</div>
<p>As you can see, provisioning for our new VNet has started:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME            STATE    GATEWAYS          SITES    OWNER   STATUS         AGE</span>
<span class="go">vnet-customer   active   192.168.46.1/24   US/NYC   Admin   Provisioning   7s</span>
</pre></div>
</div>
<p>After provisioning has completed, the L4LB’s checks should work for both backend servers, and incoming requests should be balanced between them.</p>
</section>
<section id="bgp-custom-resource">
<h3>BGP Custom Resource<a class="headerlink" href="#bgp-custom-resource" title="Link to this heading"></a></h3>
<p>You can create BGP peers via Kubernetes manifests:</p>
<ol class="arabic simple">
<li><p>Create a yaml file:</p></li>
</ol>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">cat &lt;&lt; EOF &gt; isp2-customer.yaml</span>
<span class="go">apiVersion: k8s.netris.ai/v1alpha1</span>
<span class="go">kind: BGP</span>
<span class="go">metadata:</span>
<span class="go">  name: isp2-customer</span>
<span class="go">spec:</span>
<span class="go">  site: US/NYC</span>
<span class="go">  softgate: SoftGate2</span>
<span class="go">  neighborAs: 65007</span>
<span class="go">  transport:</span>
<span class="go">    name: swp14@sw02-nyc</span>
<span class="go">    vlanId: 1092</span>
<span class="go">  localIP: 50.117.59.118/30</span>
<span class="go">  remoteIP: 50.117.59.117/30</span>
<span class="go">  description: Example BGP to ISP2</span>
<span class="go">  prefixListOutbound:</span>
<span class="go">    - permit 50.117.59.192/28 le 32</span>
<span class="go">EOF</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Apply the manifest file:</p></li>
</ol>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl apply -f isp2-customer.yaml</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Check created BGP:</p></li>
</ol>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get bgp</span>
</pre></div>
</div>
<p>Allow up to 1 minute for both sides of the BGP sessions to come up:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME            STATE     BGP STATE   PORT STATE   NEIGHBOR AS   LOCAL ADDRESS      REMOTE ADDRESS     AGE</span>
<span class="go">isp2-customer   enabled                            65007         50.117.59.118/30   50.117.59.117/30   15s</span>
</pre></div>
</div>
<p>Then check the state again:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get bgp</span>
</pre></div>
</div>
<p>The output is similar to this:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME            STATE     BGP STATE                                      PORT STATE   NEIGHBOR AS   LOCAL ADDRESS      REMOTE ADDRESS     AGE</span>
<span class="go">isp2-customer   enabled   bgp: Established; prefix: 30; time: 00:00:51   UP           65007         50.117.59.118/30   50.117.59.117/30   2m3s</span>
</pre></div>
</div>
<p>Feel free to use the import annotation for this BGP if you created it from the controller web interface previously.</p>
<p>Return to the Netris UI and navigate to <strong>Net / Topology</strong> to see the new BGP neighbor you created.</p>
</section>
<section id="importing-existing-resources-from-netris-controller-to-kubernetes">
<h3>Importing existing resources from Netris Controller to Kubernetes<a class="headerlink" href="#importing-existing-resources-from-netris-controller-to-kubernetes" title="Link to this heading"></a></h3>
<p>You can import any custom resources, already created from the Netris Controller to k8s by adding this annotation:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resource.k8s.netris.ai/import</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;true&quot;</span>
</pre></div>
</div>
<p>Otherwise, if try to apply them w/out “import” annotation, the Netris Operator will complain that the resource with such name or specs already exists.</p>
<p>After importing resources to k8s, they will belong to the Netris Operator, and you won’t be able to edit/delete them directly from the Netris Controller web interface, because the Netris Operator will put everything back, as declared in the custom resources.</p>
</section>
<section id="reclaim-policy">
<h3>Reclaim Policy<a class="headerlink" href="#reclaim-policy" title="Link to this heading"></a></h3>
<p>There is also one useful annotation. So suppose you want to remove some custom resource from k8s, and want to prevent its deletion from the controller, for that you can use “reclaimPolicy” annotation:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resource.k8s.netris.ai/reclaimPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;retain&quot;</span>
</pre></div>
</div>
<p>Just add this annotation in any custom resource while creating it. Or if the custom resource has already been created, change the <code class="docutils literal notranslate"><span class="pre">&quot;delete&quot;</span></code> value to <code class="docutils literal notranslate"><span class="pre">&quot;retain&quot;</span></code> for key <code class="docutils literal notranslate"><span class="pre">resource.k8s.netris.ai/reclaimPolicy</span></code> in the resource annotation. After that, you’ll be able to delete any Netris Custom Resource from Kubernetes, and it won’t be deleted from the controller.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See all options and examples for Netris Custom Resources <a class="reference external" href="https://github.com/netrisai/netris-operator/tree/master/samples">here</a>.</p>
</div>
</section>
</section>
<section id="calico-cni-integration">
<h2>Calico CNI Integration<a class="headerlink" href="#calico-cni-integration" title="Link to this heading"></a></h2>
<p>Netris Operator can integrate with Calico CNI.  This annotation will automatically create BGP peering between cluster nodes and the leaf/TOR switch for each node, then to clean up it will disable Calico Node-to-Node mesh. To understand why you need to configure peering between Kubernetes nodes and the leaf/TOR switch, and why you should disable Node-to-Node mesh, review the <a class="reference external" href="https://docs.projectcalico.org/networking/bgp">calico docs</a>.</p>
<p>Integration is very simple, just need to add the annotation in calico’s <code class="docutils literal notranslate"><span class="pre">bgpconfigurations</span></code> custom resource. Before doing that, let’s see the current state of <code class="docutils literal notranslate"><span class="pre">bgpconfigurations</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get bgpconfigurations default -o yaml</span>
</pre></div>
</div>
<p>As we can see, <code class="docutils literal notranslate"><span class="pre">nodeToNodeMeshEnabled</span></code> is enabled, and <code class="docutils literal notranslate"><span class="pre">asNumber</span></code> is 64512 (it’s Calico default AS number):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">crd.projectcalico.org/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BGPConfiguration</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w"> </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w"> </span><span class="nt">asNumber</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">64512</span>
<span class="w"> </span><span class="nt">logSeverityScreen</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Info</span>
<span class="w"> </span><span class="nt">nodeToNodeMeshEnabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>Let’s enable the “netris-calico” integration:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl annotate bgpconfigurations default manage.k8s.netris.ai/calico=&#39;true&#39;</span>
</pre></div>
</div>
<p>Let’s check our BGP resources in k8s:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get bgp</span>
</pre></div>
</div>
<p>Here are our freshly created BGPs, one for each k8s node:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                                STATE     BGP STATE                                      PORT STATE   NEIGHBOR AS   LOCAL ADDRESS      REMOTE ADDRESS      AGE</span>
<span class="go">isp2-customer                       enabled   bgp: Established; prefix: 28; time: 00:06:18   UP           65007         50.117.59.118/30   50.117.59.117/30    7m59s</span>
<span class="go">sandbox9-srv06-nyc-192.168.110.66   enabled                                                               4200070000    192.168.110.1/24   192.168.110.66/24   26s</span>
<span class="go">sandbox9-srv07-nyc-192.168.110.67   enabled                                                               4200070001    192.168.110.1/24   192.168.110.67/24   26s</span>
<span class="go">sandbox9-srv08-nyc-192.168.110.68   enabled                                                               4200070002    192.168.110.1/24   192.168.110.68/24   26s</span>
</pre></div>
</div>
<p>You might notice that peering neighbor AS is different from Calico’s default 64512.  The is because the Netris Operator is setting a particular AS number for each node.</p>
<p>Allow up to 1 minute for the BGP sessions to come up, then check BGP resources again:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get bgp</span>
</pre></div>
</div>
<p>As seen our BGP peers are established:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">NAME                                STATE     BGP STATE                                      PORT STATE   NEIGHBOR AS   LOCAL ADDRESS      REMOTE ADDRESS      AGE</span>
<span class="go">isp2-customer                       enabled   bgp: Established; prefix: 28; time: 00:07:48   UP           65007         50.117.59.118/30   50.117.59.117/30    8m41s</span>
<span class="go">sandbox9-srv06-nyc-192.168.110.66   enabled   bgp: Established; prefix: 5; time: 00:00:44    N/A          4200070000    192.168.110.1/24   192.168.110.66/24   68s</span>
<span class="go">sandbox9-srv07-nyc-192.168.110.67   enabled   bgp: Established; prefix: 5; time: 00:00:19    N/A          4200070001    192.168.110.1/24   192.168.110.67/24   68s</span>
<span class="go">sandbox9-srv08-nyc-192.168.110.68   enabled   bgp: Established; prefix: 5; time: 00:00:44    N/A          4200070002    192.168.110.1/24   192.168.110.68/24   68s</span>
</pre></div>
</div>
<p>Now let’s check if <code class="docutils literal notranslate"><span class="pre">nodeToNodeMeshEnabled</span></code> is still enabled:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl get bgpconfigurations default -o yaml</span>
</pre></div>
</div>
<p>It is disabled, which means the “netris-calico” integration process is finished:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">crd.projectcalico.org/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BGPConfiguration</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="nt">manage.k8s.netris.ai/calico</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;true&quot;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">asNumber</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">64512</span>
<span class="w">  </span><span class="nt">nodeToNodeMeshEnabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Netris Operator won’t disable Node-to-Node mesh until k8s cluster all nodes’ BGP peers are being established.</p>
</div>
<p>Finally, let’s check if our earlier deployed “Podinfo” application is still working when Calico Node-to-Node mesh is disabled:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">curl 50.117.59.202</span>
</pre></div>
</div>
<p>Yes, it works:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w"> </span><span class="nt">&quot;hostname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;podinfo-576d5bf6bd-mfpdt&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6.0.0&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;revision&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#34577c&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;logo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/stefanprodan/podinfo/gh-pages/cuddle_clap.gif&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;greetings from podinfo v6.0.0&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;goos&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;linux&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;goarch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;amd64&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;runtime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;go1.16.5&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;num_goroutine&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;num_cpu&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="disabling-netris-calico-integration">
<h3>Disabling Netris-Calico Integration<a class="headerlink" href="#disabling-netris-calico-integration" title="Link to this heading"></a></h3>
<p>To disable “Netris-Calico” integration, delete the annotation from Calico’s <code class="docutils literal notranslate"><span class="pre">bgpconfigurations</span></code> resource:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">kubectl annotate bgpconfigurations default manage.k8s.netris.ai/calico-</span>
</pre></div>
</div>
<p>or change its value to <code class="docutils literal notranslate"><span class="pre">&quot;false&quot;</span></code>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="netris-ufm-integration.html" class="btn btn-neutral float-left" title="NVIDIA UFM Integration Plugin for Netris Controller" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="terraform-integration.html" class="btn btn-neutral float-right" title="Terraform: Netris provider" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Netris.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Alternate Versions</span>
      v: archive
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      
      <dl>
        <dt>Versions</dt>
        
          
          <dd><a href="/docs/en/2.9/">2.9</a></dd>
          
        
          
          <dd><a href="/docs/en/3.0/">3.0</a></dd>
          
        
          
          <dd><a href="/docs/en/3.4/">3.4</a></dd>
          
        
          
          <dd><a href="/docs/en/4.5.3/">4.5.3</a></dd>
          
        
          
          <dd><a href="/docs/en/4.5.4/">4.5.4</a></dd>
          
        
          
          <dd><a href="/docs/en/latest/">latest</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/docs/manifests/en/archive/netris-docs_en_archive.pdf">pdf</a></dd>
        
          <dd><a href="/docs/manifests/en/archive/netris-docs_en_archive.epub">epub</a></dd>
        
      </dl>
      
      
      <hr/>
      Free theme by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>

<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-152905529-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-152905529-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>